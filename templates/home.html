{% extends "base.html" %}

{% block title %}Home - Budget App{% endblock %}

{% block content %}
<h1>Dashboard</h1>

<h2>Quick Stats</h2>
<ul>
  <li>Total transactions: {{ total_tx }}</li>
  <li>Uncategorised transactions: {{ uncategorised_tx }}</li>
</ul>

<h2>Actions</h2>
<ul>
  <li><a href="{{ url_for('upload_csv') }}">ğŸ“¤ Upload new CSV</a></li>
  <li><a href="{{ url_for('review_last_upload') }}">ğŸ” Review last upload</a></li>
  <li><a href="{{ url_for('list_transactions') }}">ğŸ“Š View all transactions</a></li>
  <li><a href="{{ url_for('uncategorised_view') }}">â“ View uncategorised transactions</a></li>
  <li><a href="{{ url_for('categorise_batch') }}">ğŸ¤– Send uncategorised to Claude</a></li>
</ul>

<h2>All Routes (Debug)</h2>
<table border="1" cellpadding="4" cellspacing="0">
  <thead>
    <tr>
      <th>Rule</th>
      <th>Endpoint</th>
      <th>Methods</th>
    </tr>
  </thead>
  <tbody>
    {% for r in routes %}
    <tr>
      <td>{{ r.rule }}</td>
      <td>{{ r.endpoint }}</td>
      <td>{{ r.methods }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
